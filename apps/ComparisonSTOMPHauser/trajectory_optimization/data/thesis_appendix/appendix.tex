\documentclass[12pt]{article}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{booktabs}
\usepackage{array}
\usepackage{geometry}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{float}
\usepackage{xcolor}

\geometry{margin=1in}

\begin{document}

\appendix
\section{STOMP Algorithm Optimization Analysis}

This appendix presents a comprehensive analysis of the Stochastic Trajectory Optimization for Motion Planning (STOMP) algorithm parameter optimization conducted as part of this research. The optimization process involved 400 trials using Bayesian optimization to identify optimal parameter configurations for ultrasound-guided trajectory planning.

\subsection{Optimization Process Overview}

Figure~\ref{fig:optimization_overview} presents a comprehensive view of the optimization process, including convergence behavior, statistical distribution of results, and performance evolution over time.

\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{Figure_1_Optimization_Overview.png}
\caption{STOMP optimization process overview showing convergence behavior, result distribution, and performance evolution. The optimization achieved a best objective value of 0.5445 after 400 trials, representing a 60.0\% improvement over the initial configuration.}
\label{fig:optimization_overview}
\end{figure}

The optimization process can be divided into three distinct phases:
\begin{enumerate}
    \item \textbf{Exploration Phase (Trials 1-100):} Initial parameter space exploration with high variance in results
    \item \textbf{Exploitation Phase (Trials 101-300):} Focused search around promising regions
    \item \textbf{Fine-tuning Phase (Trials 301-400):} Refinement of optimal parameter values
\end{enumerate}

\subsection{Parameter Analysis and Sensitivity Study}

Figure~\ref{fig:parameter_analysis} shows the relationship between individual parameters and the objective function, along with parameter importance ranking and correlation analysis.

\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{Figure_2_Parameter_Analysis.png}
\caption{STOMP parameter analysis showing individual parameter relationships with objective function, importance ranking, and correlation matrix. The most influential parameters are Smoothness Cost Weight (importance: 0.686), Num Noisy Trajectories (importance: 0.633), and Temperature (importance: 0.619).}
\label{fig:parameter_analysis}
\end{figure}

The parameter sensitivity analysis reveals that:
\begin{itemize}
    \item \textbf{Smoothness Cost Weight}: High impact on performance (importance: 0.686)
    \item \textbf{Num Noisy Trajectories}: High impact on performance (importance: 0.633)
    \item \textbf{Temperature}: High impact on performance (importance: 0.619)
    \item \textbf{Max Iterations}: High impact on performance (importance: 0.576)
    \item \textbf{Trajectory Length}: High impact on performance (importance: 0.540)
\end{itemize}

\subsection{Performance Metrics and Computational Analysis}

Figure~\ref{fig:performance_analysis} presents the relationship between various performance metrics including planning time, success rate, and safety clearance.

\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{Figure_3_Performance_Analysis.png}
\caption{Performance metrics analysis showing planning time distribution, success rate correlation, safety clearance by performance quartile, and multi-metric evolution over time. The best configuration achieved a planning time of 6.41 seconds with a success rate of 0.142.}
\label{fig:performance_analysis}
\end{figure}

\subsection{Optimal Configuration Analysis}

Figure~\ref{fig:optimal_configuration} shows the distribution of parameter values and highlights the optimal configuration identified through the optimization process.

\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{Figure_4_Optimal_Configuration.png}
\caption{Optimal configuration analysis showing parameter value distributions with optimal values marked, and comprehensive configuration summary table.}
\label{fig:optimal_configuration}
\end{figure}

\subsection{Optimal Parameter Configuration}

The optimization process identified the following optimal parameter configuration:

\begin{table}[H]
\centering
\caption{Optimal STOMP Parameter Configuration}
\label{tab:optimal_config}
\begin{tabular}{lcc}
\toprule
\textbf{Parameter} & \textbf{Optimal Value} & \textbf{Search Range} \\
\midrule
Max Iterations & 70.0000 & [50.000, 497.000] \\
Num Noisy Trajectories & 10.0000 & [10.000, 99.000] \\
Num Best Samples & 13.0000 & [2.000, 20.000] \\
Learning Rate & 0.0317 & [0.010, 0.499] \\
Temperature & 43.6089 & [1.573, 49.999] \\
Dt & 0.1449 & [0.011, 0.200] \\
Noise Stddev & 0.2022 & [0.050, 0.300] \\
Control Cost Weight & 8.8363 & [1.101, 9.996] \\
Smoothness Cost Weight & 1.0024 & [1.000, 9.918] \\
Collision Cost Weight & 27.9573 & [11.164, 99.987] \\
Use Finite Differences & True & Boolean \\
Trajectory Length & 89.0000 & [20.000, 100.000] \\
Convergence Threshold & 0.0006 & [0.000, 0.001] \\
\bottomrule
\end{tabular}
\end{table}

\subsection{Statistical Summary}

\begin{table}[H]
\centering
\caption{Optimization Results Statistical Summary}
\label{tab:stats_summary}
\begin{tabular}{lc}
\toprule
\textbf{Metric} & \textbf{Value} \\
\midrule
Total Trials & 400 \\
Best Objective Value & 0.5445 \\
Mean Objective Value & 0.8298 \\
Standard Deviation & 0.2453 \\
Median Objective Value & 0.7243 \\
Best Trial Number & 373 \\
Improvement from Initial & 60.0\% \\
Success Rate (< 0.8) & 60.8\% \\
Average Planning Time & 18.30 s \\
Total Optimization Time & 0.01 hours \\
\bottomrule
\end{tabular}
\end{table}

\subsection{Conclusions}

The STOMP algorithm optimization analysis demonstrates:

\begin{enumerate}
    \item The optimization process successfully identified parameter configurations that significantly outperform random sampling
    \item Parameter importance analysis reveals that smoothness cost weight and trajectory sampling parameters have the highest impact on performance
    \item The optimal configuration achieves a good balance between planning efficiency and trajectory quality
    \item The convergence behavior indicates effective exploration and exploitation phases in the optimization process
\end{enumerate}

This analysis provides empirical validation of the STOMP algorithm's effectiveness for ultrasound-guided trajectory planning applications and establishes optimal parameter settings for practical implementation.

\end{document}